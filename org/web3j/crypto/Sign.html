<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Tue Jan 23 13:32:22 GMT 2018 -->
<title>Sign</title>
<meta name="date" content="2018-01-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Sign";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/web3j/crypto/SecureRandomUtils.html" title="class in org.web3j.crypto"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/web3j/crypto/Sign.SignatureData.html" title="class in org.web3j.crypto"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/web3j/crypto/Sign.html" target="_top">Frames</a></li>
<li><a href="Sign.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.web3j.crypto</div>
<h2 title="Class Sign" class="title">Class Sign</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.web3j.crypto.Sign</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Sign</span>
extends java.lang.Object</pre>
<div class="block"><p>Transaction signing logic.</p>

 <p>Adapted from the
 <a href="https://github.com/bitcoinj/bitcoinj/blob/master/core/src/main/java/org/bitcoinj/core/ECKey.java">
 BitcoinJ ECKey</a> implementation.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.SignatureData.html" title="class in org.web3j.crypto">Sign.SignatureData</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static ECDomainParameters</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.html#CURVE">CURVE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static X9ECParameters</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.html#CURVE_PARAMS">CURVE_PARAMS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static java.math.BigInteger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.html#HALF_CURVE_ORDER">HALF_CURVE_ORDER</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.html#Sign--">Sign</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static ECPoint</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.html#decompressKey-java.math.BigInteger-boolean-">decompressKey</a></span>(java.math.BigInteger&nbsp;xBN,
             boolean&nbsp;yBit)</code>
<div class="block">Decompress a compressed public key (x co-ord and low-bit of y-coord).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static java.math.BigInteger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.html#publicKeyFromPrivate-java.math.BigInteger-">publicKeyFromPrivate</a></span>(java.math.BigInteger&nbsp;privKey)</code>
<div class="block">Returns public key from the given private key.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private static ECPoint</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.html#publicPointFromPrivate-java.math.BigInteger-">publicPointFromPrivate</a></span>(java.math.BigInteger&nbsp;privKey)</code>
<div class="block">Returns public key point from the given private key.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private static java.math.BigInteger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.html#recoverFromSignature-int-org.web3j.crypto.ECDSASignature-byte:A-">recoverFromSignature</a></span>(int&nbsp;recId,
                    <a href="../../../org/web3j/crypto/ECDSASignature.html" title="class in org.web3j.crypto">ECDSASignature</a>&nbsp;sig,
                    byte[]&nbsp;message)</code>
<div class="block">Given the components of a signature and a selector value, recover and return the public
 key that generated the signature according to the algorithm in SEC1v2 section 4.1.6.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.math.BigInteger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.html#signedMessageToKey-byte:A-org.web3j.crypto.Sign.SignatureData-">signedMessageToKey</a></span>(byte[]&nbsp;message,
                  <a href="../../../org/web3j/crypto/Sign.SignatureData.html" title="class in org.web3j.crypto">Sign.SignatureData</a>&nbsp;signatureData)</code>
<div class="block">Given an arbitrary piece of text and an Ethereum message signature encoded in bytes,
 returns the public key that was used to sign it.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../../../org/web3j/crypto/Sign.SignatureData.html" title="class in org.web3j.crypto">Sign.SignatureData</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/web3j/crypto/Sign.html#signMessage-byte:A-org.web3j.crypto.ECKeyPair-">signMessage</a></span>(byte[]&nbsp;message,
           <a href="../../../org/web3j/crypto/ECKeyPair.html" title="class in org.web3j.crypto">ECKeyPair</a>&nbsp;keyPair)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="CURVE_PARAMS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CURVE_PARAMS</h4>
<pre>private static final&nbsp;X9ECParameters CURVE_PARAMS</pre>
</li>
</ul>
<a name="CURVE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CURVE</h4>
<pre>static final&nbsp;ECDomainParameters CURVE</pre>
</li>
</ul>
<a name="HALF_CURVE_ORDER">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HALF_CURVE_ORDER</h4>
<pre>static final&nbsp;java.math.BigInteger HALF_CURVE_ORDER</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Sign--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Sign</h4>
<pre>public&nbsp;Sign()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="signMessage-byte:A-org.web3j.crypto.ECKeyPair-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>signMessage</h4>
<pre>public static&nbsp;<a href="../../../org/web3j/crypto/Sign.SignatureData.html" title="class in org.web3j.crypto">Sign.SignatureData</a>&nbsp;signMessage(byte[]&nbsp;message,
                                             <a href="../../../org/web3j/crypto/ECKeyPair.html" title="class in org.web3j.crypto">ECKeyPair</a>&nbsp;keyPair)</pre>
</li>
</ul>
<a name="recoverFromSignature-int-org.web3j.crypto.ECDSASignature-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverFromSignature</h4>
<pre>private static&nbsp;java.math.BigInteger&nbsp;recoverFromSignature(int&nbsp;recId,
                                                         <a href="../../../org/web3j/crypto/ECDSASignature.html" title="class in org.web3j.crypto">ECDSASignature</a>&nbsp;sig,
                                                         byte[]&nbsp;message)</pre>
<div class="block"><p>Given the components of a signature and a selector value, recover and return the public
 key that generated the signature according to the algorithm in SEC1v2 section 4.1.6.</p>

 <p>The recId is an index from 0 to 3 which indicates which of the 4 possible keys is the
 correct one. Because the key recovery operation yields multiple potential keys, the correct
 key must either be stored alongside the
 signature, or you must be willing to try each recId in turn until you find one that outputs
 the key you are expecting.</p>

 <p>If this method returns null it means recovery was not possible and recId should be
 iterated.</p>

 <p>Given the above two points, a correct usage of this method is inside a for loop from
 0 to 3, and if the output is null OR a key that is not the one you expect, you try again
 with the next recId.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recId</code> - Which possible key to recover.</dd>
<dd><code>sig</code> - the R and S components of the signature, wrapped.</dd>
<dd><code>message</code> - Hash of the data that was signed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An ECKey containing only the public part, or null if recovery wasn't possible.</dd>
</dl>
</li>
</ul>
<a name="decompressKey-java.math.BigInteger-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decompressKey</h4>
<pre>private static&nbsp;ECPoint&nbsp;decompressKey(java.math.BigInteger&nbsp;xBN,
                                     boolean&nbsp;yBit)</pre>
<div class="block">Decompress a compressed public key (x co-ord and low-bit of y-coord).</div>
</li>
</ul>
<a name="signedMessageToKey-byte:A-org.web3j.crypto.Sign.SignatureData-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>signedMessageToKey</h4>
<pre>public static&nbsp;java.math.BigInteger&nbsp;signedMessageToKey(byte[]&nbsp;message,
                                                      <a href="../../../org/web3j/crypto/Sign.SignatureData.html" title="class in org.web3j.crypto">Sign.SignatureData</a>&nbsp;signatureData)
                                               throws java.security.SignatureException</pre>
<div class="block">Given an arbitrary piece of text and an Ethereum message signature encoded in bytes,
 returns the public key that was used to sign it. This can then be compared to the expected
 public key to determine if the signature was correct.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - RLP encoded message.</dd>
<dd><code>signatureData</code> - The message signature components</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the public key used to sign the message</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.security.SignatureException</code> - If the public key could not be recovered or if there was a
     signature format error.</dd>
</dl>
</li>
</ul>
<a name="publicKeyFromPrivate-java.math.BigInteger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publicKeyFromPrivate</h4>
<pre>public static&nbsp;java.math.BigInteger&nbsp;publicKeyFromPrivate(java.math.BigInteger&nbsp;privKey)</pre>
<div class="block">Returns public key from the given private key.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>privKey</code> - the private key to derive the public key from</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>BigInteger encoded public key</dd>
</dl>
</li>
</ul>
<a name="publicPointFromPrivate-java.math.BigInteger-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>publicPointFromPrivate</h4>
<pre>private static&nbsp;ECPoint&nbsp;publicPointFromPrivate(java.math.BigInteger&nbsp;privKey)</pre>
<div class="block">Returns public key point from the given private key.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/web3j/crypto/SecureRandomUtils.html" title="class in org.web3j.crypto"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/web3j/crypto/Sign.SignatureData.html" title="class in org.web3j.crypto"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/web3j/crypto/Sign.html" target="_top">Frames</a></li>
<li><a href="Sign.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
